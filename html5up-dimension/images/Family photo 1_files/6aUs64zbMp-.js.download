if (self.CavalryLogger) { CavalryLogger.start_js(["Y+UDm"]); }

__d("MessengerGCFOrderedFriendList_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"mnet_rank_type",value:"WWW_NULLSTATE"},b=[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"MNetRank",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"items",storageKey:null,args:null,concreteType:"MNetItemConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"MNetContactItem",selections:[{kind:"ScalarField",alias:null,name:"user_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"rank_score",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"request_id",args:null,storageKey:null}]}];return{kind:"Fragment",name:"MessengerGCFOrderedFriendList_viewer",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"selected_ids",type:"[ID]"}],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:"friendsList",name:"first_degree_people",storageKey:'first_degree_people(first:100,is_memorialized:false,orderby:["PHAT"])',args:[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:["PHAT"]}],concreteType:"FirstDegreeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FirstDegreeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null}]}]}]}]}]},{kind:"LinkedField",alias:"rankedList",name:"mnet_ranks",storageKey:'mnet_ranks(mnet_rank_type:"WWW_NULLSTATE")',args:[a],concreteType:"MNetRankConnection",plural:!1,selections:b},{kind:"LinkedField",alias:"dynamicRankedList",name:"mnet_ranks",storageKey:null,args:[a,{kind:"Variable",name:"selected_ids",variableName:"selected_ids"}],concreteType:"MNetRankConnection",plural:!1,selections:b}]}}();e.exports=a}),null);
__d("MessengerGroupCreateDialogBody_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGroupCreateDialogBody_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"MessengerGCFOrderedFriendList_viewer",args:null}]};e.exports=a}),null);
__d("MessengerGroupCreateDialogImplQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"selected_ids",type:"[ID]",defaultValue:null}],b={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"Literal",name:"mnet_rank_type",value:"WWW_NULLSTATE"},e=[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"MNetRank",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"items",storageKey:null,args:null,concreteType:"MNetItemConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[b,{kind:"InlineFragment",type:"MNetContactItem",selections:[{kind:"ScalarField",alias:null,name:"user_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"rank_score",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:null,name:"request_id",args:null,storageKey:null}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerGroupCreateDialogImplQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerGCFOrderedFriendList_viewer",args:null}]}]},operation:{kind:"Operation",name:"MessengerGroupCreateDialogImplQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,c,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:"friendsList",name:"first_degree_people",storageKey:'first_degree_people(first:100,is_memorialized:false,orderby:["PHAT"])',args:[{kind:"Literal",name:"first",value:100},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:["PHAT"]}],concreteType:"FirstDegreeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FirstDegreeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"short_name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null}]}]}]}]}]},{kind:"LinkedField",alias:"rankedList",name:"mnet_ranks",storageKey:'mnet_ranks(mnet_rank_type:"WWW_NULLSTATE")',args:[d],concreteType:"MNetRankConnection",plural:!1,selections:e},{kind:"LinkedField",alias:"dynamicRankedList",name:"mnet_ranks",storageKey:null,args:[d,{kind:"Variable",name:"selected_ids",variableName:"selected_ids"}],concreteType:"MNetRankConnection",plural:!1,selections:e}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]},params:{operationKind:"query",name:"MessengerGroupCreateDialogImplQuery",id:"1847366548663439",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerSuggestedRecipientsOrderedFriendListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],b={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:["PHAT"]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerSuggestedRecipientsOrderedFriendListPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerSuggestedRecipientsOrderedFriendList_viewer",args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}]}]}]},operation:{kind:"Operation",name:"MessengerSuggestedRecipientsOrderedFriendListPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,c,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:"friendsList",name:"first_degree_people",storageKey:null,args:d,concreteType:"FirstDegreeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FirstDegreeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},b]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"friendsList",name:"first_degree_people",args:d,handle:"connection",key:"MessengerSuggestedRecipientsOrderedFriendList_friendsList",filters:["orderby","is_memorialized"]}]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]},params:{operationKind:"query",name:"MessengerSuggestedRecipientsOrderedFriendListPaginationQuery",id:"1448550088590014",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerSuggestedRecipientsOrderedFriendList_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerSuggestedRecipientsOrderedFriendList_viewer",type:"Viewer",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:["actor","friendsList"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:10},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:"friendsList",name:"__MessengerSuggestedRecipientsOrderedFriendList_friendsList_connection",storageKey:'__MessengerSuggestedRecipientsOrderedFriendList_friendsList_connection(is_memorialized:false,orderby:["PHAT"])',args:[{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:["PHAT"]}],concreteType:"FirstDegreeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FirstDegreeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]}]}]}]};e.exports=a}),null);
__d("MessengerSuggestedRecipientsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null}],b={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"is_memorialized",value:!1},{kind:"Literal",name:"orderby",value:["PHAT"]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerSuggestedRecipientsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerSuggestedRecipientsOrderedFriendList_viewer",args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}]}]}]},operation:{kind:"Operation",name:"MessengerSuggestedRecipientsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,c,{kind:"InlineFragment",type:"User",selections:[{kind:"LinkedField",alias:"friendsList",name:"first_degree_people",storageKey:null,args:d,concreteType:"FirstDegreeConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FirstDegreeEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},b]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:"friendsList",name:"first_degree_people",args:d,handle:"connection",key:"MessengerSuggestedRecipientsOrderedFriendList_friendsList",filters:["orderby","is_memorialized"]}]}]}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]},params:{operationKind:"query",name:"MessengerSuggestedRecipientsQuery",id:"1714529755261992",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerNullStateTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerNullStateLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerNullStateLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerNullStateLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setConversionType=function(a){this.$1.conversion_type=a;return this};c.setDuration=function(a){this.$1.duration=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setPosition=function(a){this.$1.position=a;return this};c.setRequestID=function(a){this.$1.request_id=a;return this};c.setSelectedItems=function(a){this.$1.selected_items=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={conversion_type:!0,duration:!0,event:!0,group_id:!0,position:!0,request_id:!0,selected_items:!0,session_id:!0,surface:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerGCFOrderedFriendList.react",["cx","fbt","BackgroundImage.react","ChatTypeaheadConstants","Link.react","MercuryConfig","QE2Logger","React","RelayModern","ScrollableArea.react","SearchableEntry","XUISpinner.react","gkx","nullthrows","MessengerGCFOrderedFriendList_viewer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var i=320,j=420,k="messenger_www_group_creation_nullstate",l=function(a){if(!a.hasEntries||!b("gkx")("678618"))return null;return a.loading?b("React").createElement("div",{className:"_67or"},b("React").createElement("div",{className:"_67os"},h._("SUGGESTED")),b("React").createElement("div",{className:"_67ot"},b("React").createElement(b("XUISpinner.react"),null))):a.entries.length>0?b("React").createElement("div",{className:"_67or"},b("React").createElement("div",{className:"_67os"},h._("SUGGESTED")),b("React").createElement("div",{className:"_67ot"},a.entries.slice(0,5).map(function(c){return c.getPhoto()?b("React").createElement(b("Link.react"),{className:"_67ou",key:c.getUniqueID(),href:"#",label:c.getTitle(),tabIndex:"0"},b("React").createElement(b("BackgroundImage.react"),{className:"_65-6",width:40,height:40,backgroundSize:"cover",src:c.getPhoto(),onClick:function(){return a.onClickEntry(c)}}),b("React").createElement("span",{className:"_67ov"},c.getAuxiliaryData().shortName)):null}))):null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={entries:[]},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,d){__p&&__p();var e;if(!a.hasEntries||!b("gkx")("678618"))return{entries:[]};d=(d=a)!=null?(d=d.viewer)!=null?(d=d.actor)!=null?(d=d.friendsList)!=null?d.edges:d:d:d:d;e=(e=a)!=null?(e=e.viewer)!=null?(e=e.dynamicRankedList)!=null?e.nodes:e:e:e;d=d&&c.getEntriesFromFriendsListEdges(d,null);if(d&&(a.hasEntries&&e)){a=c.getComparator(e);return{entries:d.sort(a)}}return null};var d=c.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this.props,c=a.scrollAreaHeight;a=a.scrollAreaWidth;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("ScrollableArea.react"),{key:"scrollable",className:"_2shf",shadow:!1,height:c||i,width:a||j},this.props.children),b("React").createElement(l,{key:"suggested",entries:this.state.entries,hasEntries:this.props.hasEntries,onClickEntry:this.props.onClickEntry,loading:this.props.loading}))};c.getEntriesFromFriendsListEdges=function(a,c){return a.map(function(a){var d,e,f,g,h;h=b("nullthrows")((h=a)!=null?(h=h.node)!=null?h.id:h:h);g=b("nullthrows")((g=a)!=null?(g=g.node)!=null?g.name:g:g);f=(f=a)!=null?(f=f.node)!=null?f.short_name:f:f;e=(e=a)!=null?(e=e.node)!=null?(e=e.profile_picture)!=null?e.uri:e:e:e;d=(d=a)!=null?(d=d.node)!=null?d.is_work_user:d:d;a=(a=a)!=null?(a=a.node)!=null?a.is_messenger_user:a:a;return new(b("SearchableEntry"))({uniqueID:h,photo:e,title:g,type:d?b("ChatTypeaheadConstants").FB4C_TYPE:b("ChatTypeaheadConstants").FRIEND_TYPE,uri:e,auxiliaryData:{isMessengerUser:a,requestID:c,shortName:f}})})};c.getScoreMap=function(a){var b={};a[0].items.nodes.map(function(a){b[a.user_id]=a.rank_score});return b};c.getComparator=function(a){__p&&__p();var b=c.getScoreMap(a);function d(a,c){a=a.getUniqueID()in b?b[a.getUniqueID()]:0;c=c.getUniqueID()in b?b[c.getUniqueID()]:0;if(a<c)return 1;else if(a>c)return-1;else return 0}return d};d.$2=function(){b("QE2Logger").logExposureForUser(k);return b("MercuryConfig").MessengerGroupCreationUseMNetQE};d.$1=function(a){__p&&__p();var b;a=a||this.props;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.actor)!=null?(b=b.friendsList)!=null?b.edges:b:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?(a=a.rankedList)!=null?a.nodes:a:a:a;var d=null;a&&(d=a[0].request_id);b=b&&c.getEntriesFromFriendsListEdges(b,d);if(b){if(this.$2()&&a){d=c.getComparator(a);b.sort(d)}this.props.updateEntries(b)}};return c}(b("React").Component);e.exports=a(c,{viewer:function(){return b("MessengerGCFOrderedFriendList_viewer.graphql")}})}),null);
__d("MessengerGCFParticipantItem.react",["cx","Badge.react","CurrentUser","ImageBlock.react","Keys","LeftRight.react","Link.react","MercuryTypeaheadConstants","MessengerContactImageReact.bs","OnVisible.react","React","WorkForeignEntityType","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerContactImageReact.bs").jsComponent,i=40;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(a){d.props.onClick(d.props.entry)},d.$5=function(a){(a.keyCode===b("Keys").SPACE||a.keyCode===b("Keys").RETURN)&&(a.preventDefault(),d.$4(a))},d.onVisible=function(){d.props.onVisible(d.props.entry)},d.willUnmount=function(){d.props.onHidden(d.props.entry)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(){__p&&__p();var a=this.props.entry,c=a.getPhoto(),d=b("CurrentUser").isWorkUser(),e=function(){var c=a.getAuxiliaryData();if(typeof c==="object"&&c!==null){c=c.workForeignEntityInfo;if(typeof c==="object"&&c!==null)return c.type===b("WorkForeignEntityType").FOREIGN}return!1}();d=d&&e;return c?b("React").createElement(h,{className:"_5l39",size:i,src:c,isMessengerUser:!1,isMultiCompany:d}):b("React").createElement("div",null)};d.$2=function(){return this.props.entry.getTitle()};d.$3=function(){return this.props.entry.getSubtitle()};d.$6=function(){var a=this.props.entry.getType();return a===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE?b("React").createElement(b("Badge.react"),{type:"bot",size:"medium"}):null};d.componentWillUnmount=function(){this.willUnmount()};d.render=function(){var a=b("joinClasses")("_599m _2elt _5mne",this.props.className);return b("React").createElement(b("OnVisible.react"),{onVisible:this.onVisible,onHidden:this.willUnmount},b("React").createElement("li",{className:a,onMouseDown:this.$4,onKeyDown:this.$5},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},this.$1(),b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null,b("React").createElement("div",{className:"_2em0 _599p"},this.$2(),this.$6()),b("React").createElement("div",{className:"_2em1 _599q"},this.$3())),this.props.children))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerGCFParticipantPicker.react",["cx","fbt","CenteredContainer.react","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return this.props.formattedEntries.length===0&&!this.props.loading?b("React").createElement(b("CenteredContainer.react"),{className:"_2pi1"},h._("No results")):b("React").createElement("ul",{className:"_61r_"},this.props.formattedEntries,b("React").createElement("li",{className:"_2elx"},this.props.loading?b("React").createElement(b("FDSSpinner.react"),null):null))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerGCFSelectedParticipantList.react",["cx","fbt","LeftRight.react","MessengerGCFParticipantItem.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=24;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("React").createElement(b("MessengerGCFParticipantItem.react"),{key:a.getUniqueID(),entry:a,imageSize:i,onClick:d.props.onClickEntry,onVisible:b("emptyFunction"),onHidden:b("emptyFunction"),selected:!0},b("React").createElement("div",{className:"_2el-"}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h._("SELECTED");return b("React").createElement("div",{className:"_2el_"},b("React").createElement(b("LeftRight.react"),{className:"_2elw _2ph-"},b("React").createElement("span",null,a),b("React").createElement("span",null,this.props.entries.size)),b("React").createElement("ul",null,Array.from(this.props.entries.values()).map(this.$1)))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGCFThreadCustomizationSection.react",["cx","fbt","FileInput.react","Image.react","Layout.react","Link.react","MessengerSpinner.react","React","XUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=h._("Name your group"),c=this.props,d=c.isUploadingThreadImage,e=c.threadImage,f=c.threadName,g=c.onUpdateThreadImage;c=c.onUpdateThreadName;var k=d?b("React").createElement("div",{className:"_4b0b"},b("React").createElement(b("MessengerSpinner.react"),{color:"grey",size:24})):null,l=e&&!d?b("React").createElement(b("Image.react"),{className:"_4b0c",src:e.src}):null;return b("React").createElement(b("Layout.react"),{className:"_4b0h"},b("React").createElement(i,{className:"_4b0i"},b("React").createElement(b("FileInput.react"),{accept:"image/*",name:"composer_photo",onChange:g},b("React").createElement(b("Link.react"),{className:"_4b0j"+(!e&&!d?" _4b0r":"")},k,l))),b("React").createElement(j,{className:"_26bi"},b("React").createElement(b("XUITextInput.react"),{className:"_4b0s",placeholder:a,value:f?f:"",onChange:c})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGroupCreateDialogBody.react",["cx","fbt","ChatSearchSource","Layout.react","MessengerGCFOrderedFriendList.react","MessengerGCFParticipantItem.react","MessengerGCFParticipantPicker.react","MessengerParticipantPickerWrapper.react","MessengerGCFSelectedParticipantList.react","MessengerGCFThreadCustomizationSection.react","React","ScrollableArea.react","SearchableTextInput.react","XUIDialogBody.react","RelayModern","MessengerGroupCreateDialogBody_viewer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=377;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=new(b("ChatSearchSource"))({queryRequests:[{uri:"/ajax/mercury/composer_query.php"}],excludeMemorializedUsers:!0})};d.render=function(){var a=h._("Search for people to add"),c=this.props,d=c.isUploadingThreadImage,e=c.pickerScrollAreaHeight,f=c.selectedSectionHeight,g=c.threadImage,l=c.threadName,m=c.onUpdateThreadImage;c=c.onUpdateThreadName;return b("React").createElement(b("XUIDialogBody.react"),{className:"_2shb"},b("React").createElement(b("MessengerGCFThreadCustomizationSection.react"),{isUploadingThreadImage:d,threadImage:g,threadName:l,onUpdateThreadImage:m,onUpdateThreadName:c}),b("React").createElement(b("Layout.react"),null,b("React").createElement(i,{className:"_2shd"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("SearchableTextInput.react"),{className:"_2shi autofocus",onChange:this.props.onSearchChange,onEntriesFound:this.props.onSearchEntriesFound,placeholder:a,queryString:this.props.query,searchSource:this.$1,searchSourceOptions:{onQueryFinished:this.props.onSearchFinished}})),b("React").createElement(b("MessengerGCFOrderedFriendList.react"),{updateEntries:this.props.onUpdateDefaultEntries,isSearching:!!this.props.query,hasEntries:!!this.props.selectedEntries.size,loading:this.props.loading,viewer:this.props.viewer,scrollAreaHeight:e,onClickEntry:this.props.onClickEntry},b("React").createElement(b("MessengerParticipantPickerWrapper.react"),{ParticipantRow:b("MessengerGCFParticipantItem.react"),ParticipantList:b("MessengerGCFParticipantPicker.react"),onClickEntry:this.props.onClickEntry,onVisibleEntry:this.props.onVisibleEntry,onHiddenEntry:this.props.onHiddenEntry,loading:this.props.loading,entries:this.props.entries,selectedEntries:this.props.selectedEntries,onMountEntry:this.props.onMountEntry,onUnmountEntry:this.props.onUnmountEntry}))),b("React").createElement(j,{className:"_2she"},b("React").createElement(b("ScrollableArea.react"),{height:f||k,shadow:!1},b("React").createElement(b("MessengerGCFSelectedParticipantList.react"),{entries:this.props.selectedEntries,onClickEntry:this.props.onClickEntry})))))};return c}(b("React").Component);e.exports=a(c,{viewer:function(){return b("MessengerGroupCreateDialogBody_viewer.graphql")}})}),null);
__d("MessengerGroupCreateDialogFooter.react",["cx","fbt","ChatAppStore","ChatOpenTabEventLogger","ChatTypeaheadConstants","CurrentUser","ErrorDialog","FantaTabActions","MercuryIDs","MessengerGroupCreateMutation","MessengerGroupCreationEntryPoint","React","RelayFBEnvironment","SearchableEntry","XUIButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="PRIVATE";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={disableCreate:d.props.disableCreateButton},d.$4=function(){__p&&__p();var a=d.props,c=a.onClose,e=a.selectedEntries,f=a.threadImage;a=a.threadName;var g=b("CurrentUser").getAccountID(),h=d.$1(g,e);d.setState({disableCreate:!0});if(d.props.doNotCreateGroup){var j=a,k=Array.from(e.values()).map(function(a){return a.getTitle()}).join(", "),l=h.map(function(a){return a.fbid}).join(",");j=new(b("SearchableEntry"))({title:j||k,uniqueID:l,type:b("ChatTypeaheadConstants").THREAD_TYPE,auxiliaryData:{participantsToRender:d.$5(e),new_thread:!0}});d.props.onClose(j);return}b("MessengerGroupCreateMutation").commit(b("RelayFBEnvironment"),{actorID:g,participants:h,threadSettings:{name:a,joinable_mode:i,thread_image_fbid:f?f.fbid:null},entryPoint:d.props.entryPoint},{onCompleted:function(a){c(b("MessengerGroupCreateMutation").getSearchableEntryFromResponse(a));if(!a)return;a=b("MessengerGroupCreateMutation").getThreadFBIDFromResponse(a);if(!a)return;else d.$2(a)},onError:function(a){c(),b("ErrorDialog").show("ERROR",a.description)}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState({disableCreate:a.disableCreateButton})};d.$1=function(a,b){var c=[{fbid:a}];b.forEach(function(a){c.push({fbid:a.getUniqueID()})});return c};d.$2=function(a){var c=this;if(b("ChatAppStore").getState().isInitialized)this.$3(a);else var d=b("ChatAppStore").addListener(function(){b("ChatAppStore").getState().isInitialized&&(b("setImmediate")(function(){return c.$3(a)}),d.remove())})};d.$3=function(a){a=b("MercuryIDs").getThreadIDFromThreadFBID(a);b("FantaTabActions").openTab(a);b("ChatOpenTabEventLogger").logAutoOpen("OpenTabAfterGroupCreate",a)};d.$5=function(a){var b=[];Array.from(a.values()).map(function(a){return b.push({image_src:a.getPhoto()})});return b};d.render=function(){var a=this.props.confirmLabel;return b("React").createElement(b("XUIDialogFooter.react"),{className:"_2shc"},b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.onClose}),b("React").createElement(b("XUIButton.react"),{action:"confirm",disabled:this.state.disableCreate,label:a||h._("Create"),onClick:this.$4,use:"confirm"}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerGroupCreateDialogImpl.react",["fbt","ChatTypeaheadConstants","ErrorDialog","FileInputUploader","LayerFadeOnShow","LoadingDialog.react","MercuryConfig","MessengerAdminGroupUtils","MessengerBootloadedSecondarySearchLogger","MessengerGroupCreateDialogBody.react","MessengerGroupCreateDialogFooter.react","MessengerNullStateTypedLogger","MessengerSearchLoggerUtil","MessengerSecondarySearchFunnelConstants","MessengerWebChatEventsTypedLogger","MessengerWebChatEventType","React","RelayFBEnvironment","RelayModern","XUIDialog.react","XUIDialogTitle.react","gkx","guid","MessengerGroupCreateDialogImplQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var i=600;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={bootstrappedEntries:[],disableCreateButton:!0,entries:[],isUploadingThreadImage:!1,loading:!0,query:"",selectedEntries:new Map(),threadImage:null,threadName:null},d.$1=b("guid")(),d.$2={},d.$3=null,d.$6=function(a){__p&&__p();var c=a.getUniqueID(),e=new Map(d.state.selectedEntries);if(e.has(c))e["delete"](c);else{e.set(c,a);var f=d.$5(c);d.$7(c,f==null?-1:f,a.getAuxiliaryData().requestID||null,b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(a.getType()))}if(d.state.query&&b("gkx")("678592")){c=d.state.bootstrappedEntries.map(function(a){return!a?{}:{result_fbid:a.getUniqueID(),result_type:b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:"",entries:c,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE})}d.setState(function(a){a=e.size<2;return{disableCreateButton:a,query:"",selectedEntries:e}})},d.$8=function(a){__p&&__p();if(d.state.bootstrappedEntries.length===a.length)return;if(b("gkx")("678592")){var c=a.map(function(a){return a.getUniqueID()}),e=a.map(function(a){return{result_fbid:a.getUniqueID(),result_type:b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_ENDED,source:b("MessengerSecondarySearchFunnelConstants").SOURCES.ORDERED_GCF_FRIENDLIST,ids:c,numResults:c.length,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:"",entries:e,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE})}d.setState({bootstrappedEntries:a,loading:!1})},d.$9=function(a){a=a.target.value;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.QUERY_CHANGED,query:a,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE});d.setState({loading:!0,query:a})},d.$10=function(a){var c=b("MessengerAdminGroupUtils").canSeeBotsInGroupTypeahead();a=a.filter(function(a){return a.getType()===b("ChatTypeaheadConstants").FRIEND_TYPE||a.getType()===b("ChatTypeaheadConstants").NON_FRIEND_TYPE||a.getType()===b("ChatTypeaheadConstants").FB4C_TYPE||a.getType()===b("ChatTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE&&c});if(b("gkx")("678592")){var e=a.map(function(a){return{result_fbid:a.getUniqueID(),result_type:b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(a.getType())}});b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.IMPRESSIONS,query:d.state.query,entries:e,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE})}d.setState({entries:a})},d.$11=function(a){a===d.state.query&&d.setState({loading:!1})},d.$12=function(a){d.props.doNotCreateGroup||(a?d.$13(a):d.$14()),d.setState({disableCreateButton:!0,entries:[],isUploadingThreadImage:!1,loading:!0,query:"",selectedEntries:new Map(),threadImage:null,threadName:null}),d.props.onClose(a)},d.$15=function(a){__p&&__p();var c=a.target,e=c&&c.files;a.preventDefault();if(!e||!e[0])return;a=new(b("FileInputUploader"))(c).setURI(b("MercuryConfig").upload_url).setData({images_only:!0}).setAllowCrossOrigin(!0);a.subscribe("progress",function(a,b){d.setState({isUploadingThreadImage:!0})});a.subscribe("success",function(a,b){b=(a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.metadata:a:a:a;a=b&&b[0];d.setState({isUploadingThreadImage:!1,threadImage:a})});a.subscribe("failure",function(a,c){d.setState({isUploadingThreadImage:!1});a=g._("ERROR");c=g._("Uploading image failed, please try again.");b("ErrorDialog").show(a,c)});a.send()},d.$16=function(a){if(a.target){var b=a.target.value?a.target.value!==""?String(a.target.value):null:null;d.setState(function(a){return{threadName:b}})}},d.$17=function(a){var b=Date.now(),c=a.getUniqueID();a=a.getAuxiliaryData().requestID||null;var e=d.$5(c),f=d.$2[c];(!f||f.position!==e)&&(d.$2[c]={startTime:b,position:e,requestID:a})},d.$18=function(a){__p&&__p();var c=Date.now();a=a.getUniqueID();var e=[];for(var f=d.state.selectedEntries,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];e.push({target_id:j,position:null,request_id:i.getAuxiliaryData().requestID||null})}j=d.$2[a];j&&(delete d.$2[a],new(b("MessengerNullStateTypedLogger"))().setEvent("mnet_impression_www_group").setSessionID(d.$1).setSurface("gcf").setTargetID(a).setPosition(j.position).setDuration(c-j.startTime).setRequestID(j.requestID).setSelectedItems(e).log())},d.$19=function(a){a||d.$12()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$4()};d.$5=function(a){var b=this.state.query?this.state.entries:this.state.bootstrappedEntries;return b.findIndex(function(b){return b.getUniqueID()===a})};d.$4=function(){b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.START,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.GROUP_CREATION,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE}),b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.SOURCE_STARTED,source:b("MessengerSecondarySearchFunnelConstants").SOURCES.ORDERED_GCF_FRIENDLIST,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE}),new(b("MessengerWebChatEventsTypedLogger"))().setEvent(b("MessengerWebChatEventType").ENTER_GROUP_CREATION_DIALOG).setEntryPoint(this.props.entryPoint).log()};d.$7=function(a,c,d,e){__p&&__p();var f=[];for(var g=this.state.selectedEntries,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=j[0];j=j[1];f.push({target_id:k,position:null,request_id:j.getAuxiliaryData().requestID||null})}new(b("MessengerNullStateTypedLogger"))().setEvent("mnet_click_www_group").setSessionID(this.$1).setSurface("gcf").setTargetID(a).setPosition(c).setSelectedItems(f).setRequestID(d).log();b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.RESULT_SELECTED,id:a,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.GROUP_CREATION,query:this.state.query,type:e,selectionType:b("MessengerSecondarySearchFunnelConstants").SELECTION_TYPES.ADD,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE})};d.$13=function(a){__p&&__p();var c=[];for(var d=this.state.selectedEntries,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];c.push({target_id:h,position:null,request_id:g.getAuxiliaryData().requestID||null})}b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.GROUP_CREATION,end_reason:b("MessengerSecondarySearchFunnelConstants").END_ACTIONS.CREATE_GROUP,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE,isNewThread:!0});new(b("MessengerNullStateTypedLogger"))().setEvent("mnet_conversion_www_group").setSessionID(this.$1).setSurface("gcf").setSelectedItems(c).setGroupID(a.getUniqueID()).log()};d.$14=function(){b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:b("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.GROUP_CREATION,end_reason:b("MessengerSecondarySearchFunnelConstants").END_ACTIONS.ABANDON,loggingID:b("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.GROUP_CREATE}),new(b("MessengerNullStateTypedLogger"))().setEvent("mnet_cancel_www_group").setSessionID(this.$1).setSurface("gcf").log()};d.render=function(){__p&&__p();var a=this,d=this.props.dialogTitle;return b("React").createElement(h,{environment:b("RelayFBEnvironment"),query:c.query,variables:{selected_ids:Array.from(this.state.selectedEntries.keys())},render:function(c){__p&&__p();var e=c.error;c=c.props;var f=c||a.$3;if(f){a.$3=f;c=a.state.loading||c==null;return b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnShow:b("LayerFadeOnShow")},hideOnEscape:!0,onToggle:a.$19,shown:a.props.isShown,width:i},b("React").createElement(b("XUIDialogTitle.react"),null,d||g._("Create Group")),b("React").createElement(b("MessengerGroupCreateDialogBody.react"),babelHelpers["extends"]({entries:a.state.query?a.state.entries:a.state.bootstrappedEntries,isUploadingThreadImage:a.state.isUploadingThreadImage,loading:c,pickerScrollAreaHeight:a.props.pickerScrollAreaHeight,query:a.state.query,selectedEntries:a.state.selectedEntries,selectedSectionHeight:a.props.selectedSectionHeight,threadImage:a.state.threadImage,threadName:a.state.threadName,onClickEntry:a.$6,onVisibleEntry:a.$17,onHiddenEntry:a.$18,onSearchChange:a.$9,onSearchEntriesFound:a.$10,onSearchFinished:a.$11,onUpdateDefaultEntries:a.$8,onUpdateThreadName:a.$16,onUpdateThreadImage:a.$15},f)),b("React").createElement(b("MessengerGroupCreateDialogFooter.react"),{confirmLabel:d,disableCreateButton:a.state.disableCreateButton||a.state.isUploadingThreadImage,entryPoint:a.props.entryPoint,selectedEntries:a.state.selectedEntries,threadImage:a.state.threadImage,threadName:a.state.threadName,doNotCreateGroup:a.props.doNotCreateGroup,onClose:a.$12}))}else if(e)return null;else return b("React").createElement(b("LoadingDialog.react"),null)}})};return c}(b("React").PureComponent);a.query=function(){return b("MessengerGroupCreateDialogImplQuery.graphql")};e.exports=a}),null);
__d("MessagingRecipientTypeaheadItem.react",["cx","BackgroundImage.react","ChatTypeaheadConstants","ImageBlock.react","Keys","LeftRight.react","MercuryConfig","MercuryThreadMetadataRawRenderer","React","SplitImage.react","TypeaheadViewItem","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MessagingRecipientTypeaheadItem",propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{imageSize:a.number.isRequired}),mixins:[b("TypeaheadViewItem").Mixin],isThreadRecipient:function(){return this.props.entry.getType()===b("ChatTypeaheadConstants").THREAD_TYPE},_getImage:function(){var a=this.props.entry;if(a.getType()===b("ChatTypeaheadConstants").THREAD_TYPE&&!a.getPhoto()){var c=a.getAuxiliaryData();return b("React").createElement(b("SplitImage.react"),{className:"_39jx",size:this.props.imageSize,srcs:c.participantsToRender.map(function(a){return a.image_src||a.profile_pic_uri})})}return a.getPhoto()?b("React").createElement(b("BackgroundImage.react"),{className:"_65-6",width:this.props.imageSize,height:this.props.imageSize,backgroundSize:"cover",src:a.getPhoto()}):b("React").createElement("span",null)},_getThreadParticipantList:function(){if(!this.isThreadRecipient())return null;var a=this.props.entry;return b("MercuryThreadMetadataRawRenderer").renderRawParticipantList(a.getUniqueID(),a.getAuxiliaryData().participantsToRender,a.getAuxiliaryData().thread.participants.length-1,{names_renderer:b("MercuryThreadMetadataRawRenderer").renderShortNames})},_getTitle:function(){var a=this.props.entry;return this.isThreadRecipient()&&!a.getTitle()?this._getThreadParticipantList():a.getTitle()},_getSubtitle:function(){var a=this.props.entry;return this.isThreadRecipient()&&!a.getTitle()?this._getThreadParticipantList():a.getSubtitle()?a.getSubtitle().split(" \xb7 ")[0]:null},_onKeyDown:function(a){(a.keyCode===b("Keys").SPACE||a.keyCode===b("Keys").RETURN)&&(a.preventDefault(),this._onSelect(a))},render:function(){var a=this._getSubtitle(),c=b("MercuryConfig").MNNSS,d=b("joinClasses")("_599m _55xn"+(a?"":" _5mne")+(this.props.highlighted?" _599n":"")+(c?"":" _620e")+(c?" _620f":"")+" _39jy",this.props.className);return b("React").createElement("li",{"aria-selected":this.props.selected,className:d,onMouseDown:c?b("emptyFunction"):this._onSelect,onMouseEnter:this._onHighlight,onKeyDown:c?b("emptyFunction"):this._onKeyDown,role:this.props.role},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},this._getImage(),b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null,b("React").createElement("div",{className:"_55xt _599p"+(c?" _620f":"")},this._getTitle()),b("React").createElement("div",{className:"_55z3 _599q"+(c?" _620f":"")},a)),this.props.children)))}});e.exports=c}),null);
__d("MessagingRecipientTypeaheadView.react",["ix","cx","fbt","CenteredContainer.react","Image.react","ImageBlock.react","Keys","LeftRight.react","Link.react","MercuryConfig","MessagingRecipientTypeaheadItem.react","MessengerGroupCreateDialogImpl.react","MessengerGroupCreationEntryPoint","React","TypeaheadViewPropTypes","XUIButton.react","XUISpinner.react","emptyFunction","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j=32,k=422,l=477;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.$2=function(a){var c=a===d.props.highlightedEntry,e=a.getUniqueID(),f=d.props.selectedEntries.has(e),g=d.props.sentEntries.has(e);e=d.props.errorEntries&&d.props.errorEntries.has(e);var h=b("MercuryConfig").MNNSS;return b("React").createElement(b("MessagingRecipientTypeaheadItem.react"),{key:a.getUniqueID(),entry:a,highlighted:c,imageSize:j,selected:f,onSelect:h?b("emptyFunction"):d.props.onSelect,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight},h?b("React").createElement("div",{className:"_397h"},d.$3(f,g,a,e)):d.$4(f))},d.$7=function(a){a.keyCode==b("Keys").RETURN&&d.$8()},d.$10=function(a){a&&(d.props.setSectionName&&d.props.setSectionName("group_create"),d.props.onSelect&&d.props.onSelect(a)),d.props.hideShareDialog&&d.props.hideShareDialog(!1),d.setState({showDialog:!1})},d.$8=function(){d.setState({showDialog:!0}),d.props.hideShareDialog&&d.props.hideShareDialog(!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$1=function(a){var b=this;return function(c){c.preventDefault(),b.props.setSectionName&&b.props.setSectionName(b.props.sectionNameForLogging),b.props.onSelect&&b.props.onSelect(a)}};d.$3=function(a,c,d,e){if(c)return b("React").createElement("div",{className:"_397i"},i._("Sent"));else if(e)return b("React").createElement("div",{className:"_397i"},i._("Error"));else if(a)return b("React").createElement(b("XUISpinner.react"),null);return b("React").createElement(b("XUIButton.react"),{className:"_397j",label:i._("Send"),use:"confirm",onClick:this.$1(d)})};d.$4=function(a){return b("React").createElement(b("Link.react"),{"aria-checked":a,className:"_2i83"+(a?" _2i85":"")+(a?"":" _2i86"),href:"#",role:"checkbox",tabIndex:"0",label:i._("select")})};d.render=function(){return this.props.entries.length===0&&!this.props.loading?b("React").createElement(b("CenteredContainer.react"),{className:"_2pi1"},i._("No results")):b("React").createElement("div",null,this.$5(),this.$6(),b("React").createElement("ul",{id:this.props.controlleeID,className:"_51do",role:this.props.role},this.props.entries.map(this.$2),b("React").createElement("div",{className:"_51dq"},this.props.loading?b("React").createElement(b("XUISpinner.react"),null):null)))};d.$5=function(){return!this.props.showCreateGroupItem?null:b("React").createElement("div",{className:"_599m _5mne _620e _he2",tabIndex:0,onKeyDown:this.$7,onMouseDown:this.$8},this.$9(),b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement("div",{className:"_-n3"},b("React").createElement("div",{className:"_-n4"},b("React").createElement(b("Image.react"),{src:g("115065"),className:"_-n7"}))),b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_55xt _599p"},i._("Send to New Group")),b("React").createElement("div",{className:"_-n9"},b("React").createElement(b("Image.react"),{src:g("125812")})))))};d.$9=function(){return!this.state.showDialog?null:b("React").createElement(b("MessengerGroupCreateDialogImpl.react"),{entryPoint:b("MessengerGroupCreationEntryPoint").GCF_SHARE_FLOW,dialogTitle:i._("Send to Group"),pickerScrollAreaHeight:k,selectedSectionHeight:l,isShown:!0,onClose:this.$10})};d.$6=function(){var a=this.props.sectionName;return!a?null:b("React").createElement("div",{className:"_he3"},a)};return c}(b("React").Component);c.propTypes=babelHelpers["extends"]({},b("TypeaheadViewPropTypes"),{sectionName:a.string,selectedEntries:a.instanceOf(Map),sentEntries:a.instanceOf(Map),errorEntries:a.instanceOf(Map),showCreateGroupItem:a.bool,loading:a.bool,hideShareDialog:a.func,sectionNameForLogging:a.string,setSectionName:a.func});c.defaultProps={role:"listbox",showCreateGroupItem:!1};e.exports=c}),null);
__d("MessengerSuggestedRecipientsOrderedFriendList.react",["cx","ChatTypeaheadConstants","InfiniteScrollArea.react","MercuryConfig","React","RelayModern","SearchableEntry","nullthrows","MessengerSuggestedRecipientsOrderedFriendList_viewer.graphql","MessengerSuggestedRecipientsOrderedFriendListPaginationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createPaginationContainer;b("RelayModern").graphql;var h=10,i=320,j=420;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){if(c.props.isSearching||!c.props.relay.hasMore()||c.props.relay.isLoading())return;c.props.relay.loadMore(h,function(){})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.UNSAFE_componentWillReceiveProps=function(a){var b,c;c=(c=this.props)!=null?(c=c.viewer)!=null?(c=c.actor)!=null?(c=c.friendsList)!=null?c.edges:c:c:c:c;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.actor)!=null?(b=b.friendsList)!=null?b.edges:b:b:b:b;JSON.stringify(c)!==JSON.stringify(b)&&this.$1(a)};d.render=function(){var a=this.props,c=a.scrollAreaHeight;a=a.scrollAreaWidth;return b("React").createElement(b("InfiniteScrollArea.react"),{className:"_2shf",fade:b("MercuryConfig").MNSIF,shadow:!1,onEndReached:this.$2,height:c||i,width:a||j},this.props.children)};d.$3=function(a){return a.map(function(a){var c,d,e,f;f=b("nullthrows")((f=a)!=null?(f=f.node)!=null?f.id:f:f);e=b("nullthrows")((e=a)!=null?(e=e.node)!=null?e.name:e:e);d=(d=a)!=null?(d=d.node)!=null?(d=d.profile_picture)!=null?d.uri:d:d:d;c=(c=a)!=null?(c=c.node)!=null?c.is_work_user:c:c;a=(a=a)!=null?(a=a.node)!=null?a.is_messenger_user:a:a;return new(b("SearchableEntry"))({uniqueID:f,photo:d,title:e,type:c?b("ChatTypeaheadConstants").FB4C_TYPE:b("ChatTypeaheadConstants").FRIEND_TYPE,uri:d,auxiliaryData:{isMessengerUser:a}})})};d.$1=function(a){a=a||this.props;a=(a=a)!=null?(a=a.viewer)!=null?(a=a.actor)!=null?(a=a.friendsList)!=null?a.edges:a:a:a:a;a=a&&this.$3(a);this.props.updateEntries(a)};return c}(b("React").Component);e.exports=a(c,{viewer:function(){return b("MessengerSuggestedRecipientsOrderedFriendList_viewer.graphql")}},{direction:"forward",getConnectionFromProps:function(a){return a.viewer&&a.viewer.actor&&a.viewer.actor.friendsList},getFragmentVariables:function(a,b){return babelHelpers["extends"]({},a,{count:b})},getVariables:function(a,b){a=b.count;b=b.cursor;return{count:a,cursor:b}},query:function(){return b("MessengerSuggestedRecipientsOrderedFriendListPaginationQuery.graphql")}})}),null);
__d("MessengerSuggestedRecipients.react",["cx","fbt","MessagingRecipientTypeaheadView.react","MessengerSuggestedRecipientsOrderedFriendList.react","React","RelayFBEnvironment","RelayModern","XUISpinner.react","MessengerSuggestedRecipientsQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var j=10,k=320,l=485,m=function(){return b("MessengerSuggestedRecipientsQuery.graphql")};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this;return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:m,variables:{count:j},render:function(c){var d=c.error;c=c.props;if(c){var e=a.props.isSearching;return b("React").createElement(b("MessengerSuggestedRecipientsOrderedFriendList.react"),{updateEntries:a.props.onUpdateDefaultEntries,isSearching:a.props.isSearching,viewer:c.viewer,scrollAreaHeight:k,scrollAreaWidth:l},e?a.$1(!1):a.$2())}else if(d)return null;else return b("React").createElement("div",{className:"_638w"},b("React").createElement(b("XUISpinner.react"),null))}})};d.$2=function(){var a=this.props.preSelected;if(a&&a.length>0)return this.$3(h._("Suggested"),a,!1,"suggested",!0);return this.props.recentEntries.length===0&&this.props.groupEntries.length===0?b("React").createElement("div",{className:"_3vi_"},b("React").createElement(b("XUISpinner.react"),null)):b("React").createElement("div",null,this.$4(),this.$5(),this.$1(!0))};d.$4=function(){var a=this.props.recentEntries;return a.length===0?null:this.$3(h._("Recent"),a,!1,"recent",!0)};d.$5=function(){var a=this.props.groupEntries;return a.length===0?null:this.$3(h._("Groups"),a,!1,"groups")};d.$1=function(a){__p&&__p();var c=this.props,d=c.contactEntries;c=c.recentEntries;if(d.length===0&&this.props.loading)return b("React").createElement("div",{className:"_3vi_"},b("React").createElement(b("XUISpinner.react"),null));d=d;if(!this.props.isSearching){var e={};c.forEach(function(a){return e[a.getUniqueID()]=!0});d=d.filter(function(a){return!e[a.getUniqueID()]})}return this.$3(a?h._("Contacts"):null,d,this.props.loading,"contacts",!1)};d.$3=function(a,c,d,e,f){f===void 0&&(f=!1);this.props.isSearching&&(e="search");return b("React").createElement(b("MessagingRecipientTypeaheadView.react"),{entries:c,loading:d,sectionName:a,selectedEntries:this.props.selectedEntries,sentEntries:this.props.sentEntries,errorEntries:this.props.errorEntries,showCreateGroupItem:f,onSelect:this.props.onSelect,hideShareDialog:this.props.hideShareDialog,sectionNameForLogging:e,setSectionName:this.props.setSectionName})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerSuggestedRecipientsUtil",["ChatTypeaheadConstants","CurrentUser","SearchableEntry","isValidUniqueID","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g="MessengerViewerGroupThread",h="MessengerViewer1To1Thread",i="User";function a(a){__p&&__p();a=(a=a)!=null?(a=a.payload)!=null?(a=a.data)!=null?(a=a.viewer)!=null?(a=a.messenger_suggested_recipients)!=null?a.nodes:a:a:a:a:a;if(!Array.isArray(a))return{};var b=[],c=[];a.forEach(function(a){var d;d=(d=a)!=null?(d=d.title)!=null?d.text:d:d;if(!d)return;a=(a=a)!=null?(a=a.attachments_pageable)!=null?a.edges:a:a;d.includes("Recent")&&a?b=j(a):d.includes("Groups")&&a&&(c=j(a))});return{recentEntries:b,groupEntries:c}}function j(a){__p&&__p();if(!Array.isArray(a)||a.length===0)return[];var b=[];a.forEach(function(a){var c;c=(c=a)!=null?(c=c.node)!=null?c.__typename:c:c;var d=null;c===g?d=l(a.node):c===h?d=m(a.node):c===i&&(d=k(a.node));d&&b.push(d)});return b}function k(a){var c,d,e,f,g;g=b("nullthrows")((g=a)!=null?g.id:g);f=b("nullthrows")((f=a)!=null?f.name:f);e=(e=a)!=null?e.short_name:e;d=(d=a)!=null?(d=d.profile_picture)!=null?d.uri:d:d;c=(c=a)!=null?c.is_work_user:c;a=(a=a)!=null?a.is_messenger_user:a;return new(b("SearchableEntry"))({uniqueID:g,photo:d,title:f,type:c?b("ChatTypeaheadConstants").FB4C_TYPE:b("ChatTypeaheadConstants").FRIEND_TYPE,uri:d,auxiliaryData:{isMessengerUser:a,shortName:e}})}function l(a){var c;c=((c=a)!=null?(c=c.all_participants)!=null?c.nodes:c:c)||[];c=c.map(function(a){a=b("nullthrows")(a.messaging_actor);return{name:a.name,id:a.id,image_src:(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a}});var d=a.thread_name;d||(d=c.map(function(a){return a.name}).join(", "));return!d||!b("isValidUniqueID")(a.id)?null:new(b("SearchableEntry"))({uniqueID:a.id,photo:(a=a)!=null?(a=a.image)!=null?a.uri:a:a,title:d,type:"thread",auxiliaryData:{participantsToRender:c}})}function m(a){a=((a=a)!=null?(a=a.all_participants)!=null?a.nodes:a:a)||[];var c=null;a.forEach(function(a){a=a.messaging_actor;var d=a.id;b("isValidUniqueID")(d)&&d!==b("CurrentUser").getID()&&(c=a)});return!c?null:new(b("SearchableEntry"))({uniqueID:c.id,photo:(a=c)!=null?(a=a.profile_picture)!=null?a.uri:a:a,title:c.name,type:"thread"})}e.exports={parseSuggestedRecipientResponse:a,getEntriesFromEdges:j}}),null);
__d("MessengerSuggestedRecipientsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1471572002892663"};b.getQueryID=function(){return"360156377761535"};return b}(b("WebGraphQLQueryBase"))}),null);